var ds = [{
        dxid: 36805,
        name: "#1",
        datetime: "2020-08-14 00:00:02",
        payload: "24.75|24.84375|29.59375|33.46875|36.71875|35.8125|34.96875|34.875|35.6875|35.96875|35.71875|35.34375|35.03125|35.09375|35.125|35.40625|35.34375|35.25|35.15625|35.0625|35.09375|35.09375|35.3125|35.375|35.46875|35.4375|35.1875|35.21875|35.1875|35.1875|35.1875|35.15625|35.15625|35.15625|35.09375|35.0|34.9375|35.03125|35.0|35.125|35.125|35.03125|34.875|34.78125|34.75|34.75|34.875|34.9375|34.84375|34.75|34.6875|34.625|34.71875|34.78125|34.78125|34.65625|34.625|34.5625|34.625|34.5|34.46875|34.28125|34.28125|34.34375|34.3125|34.3125|34.125|34.1875|34.25|34.15625|34.25|34.25|34.0625|33.90625|29.8125|26.3125|22.90625|23.6875|25.1875|25.0625|23.875|22.96875|23.15625|24.28125|24.75|24.6875|24.0|23.25|23.09375|23.5625|24.09375|24.625|24.59375|24.6875|23.96875|23.65625|23.375|23.5625|24.0|24.40625|24.65625|24.625|24.34375|24.0|23.6875|23.75|23.90625|24.15625|24.5|24.5625|24.59375|24.375|24.0625|23.9375|23.90625|24.125|24.34375|24.53125|24.625|24.53125|24.28125|24.0|23.9375|24.0|24.25|24.40625|24.53125|24.5|24.34375|24.28125|24.3125|24.4375|24.53125|24.625|24.625|24.59375|24.5|24.53125|24.65625|24.65625|24.75|24.6875|24.6875|25.03125",
        offset: "0.0|0.0830078125|0.1669921875|0.25|0.3330078125|0.4169921875|0.5|0.5830078125|0.6669921875|0.75|0.8330078125|0.9169921875|1.0|1.0830078125|1.1669921875|1.25|1.3330078125|1.4169921875|1.5|1.5830078125|1.6669921875|1.75|1.8330078125|1.9169921875|2.0|2.0830078125|2.1669921875|2.25|2.3330078125|2.4169921875|2.5|2.5830078125|2.6669921875|2.75|2.8330078125|2.9169921875|3.0|3.0830078125|3.1669921875|3.25|3.3330078125|3.4169921875|3.5|3.5830078125|3.6669921875|3.75|3.8330078125|3.9169921875|4.0|4.0830078125|4.1669921875|4.25|4.3330078125|4.4169921875|4.5|4.5830078125|4.6669921875|4.75|4.8330078125|4.9169921875|5.0|5.0830078125|5.1669921875|5.25|5.3330078125|5.4169921875|5.5|5.5830078125|5.6669921875|5.75|5.8330078125|5.9169921875|6.0|5.9169921875|5.8330078125|5.75|5.6669921875|5.5830078125|5.5|5.4169921875|5.3330078125|5.25|5.1669921875|5.0830078125|5.0|4.9169921875|4.8330078125|4.75|4.6669921875|4.5830078125|4.5|4.4169921875|4.3330078125|4.25|4.1669921875|4.0830078125|4.0|3.9169921875|3.8330078125|3.75|3.6669921875|3.5830078125|3.5|3.4169921875|3.3330078125|3.25|3.1669921875|3.0830078125|3.0|2.9169921875|2.8330078125|2.75|2.6669921875|2.5830078125|2.5|2.4169921875|2.3330078125|2.25|2.1669921875|2.0830078125|2.0|1.9169921875|1.8330078125|1.75|1.6669921875|1.5830078125|1.5|1.4169921875|1.3330078125|1.25|1.1669921875|1.0830078125|1.0|0.9169921875|0.8330078125|0.75|0.6669921875|0.5830078125|0.5|0.4169921875|0.3330078125|0.25|0.1669921875|0.0830078125",
    },
    {
        dxid: 10312,
        name: "#2",
        datetime: "2020-08-14 00:00:05",
        payload: "23.28125|25.3125|32.0625|36.375|40.03125|43.53125|46.21875|48.78125|50.8125|50.5|49.34375|48.5625|48.1875|48.53125|49.125|49.75|50.03125|49.9375|49.53125|48.96875|49.0|49.0|49.09375|49.25|49.53125|49.65625|49.75|49.75|49.5|49.21875|49.25|49.34375|49.21875|49.5|49.53125|49.625|49.65625|49.4375|49.1875|49.3125|49.375|49.3125|49.28125|49.34375|49.375|49.3125|49.15625|49.0625|49.125|49.09375|49.3125|49.25|49.1875|49.125|49.03125|48.96875|49.0625|49.0625|49.0|48.96875|48.96875|48.9375|48.875|48.90625|48.84375|48.8125|48.59375|48.40625|48.25|48.0625|47.90625|47.5|46.90625|45.71875|41.71875|37.90625|34.96875|32.46875|32.15625|32.75|33.09375|33.0|32.375|31.65625|31.34375|31.0|31.125|31.1875|30.59375|29.75|29.125|28.4375|28.0|27.53125|26.875|26.34375|25.6875|24.875|23.34375|21.90625|20.625|19.28125|18.1875|17.6875|17.875|18.3125|18.875|19.65625|20.15625|20.5625|20.5625|20.34375|19.96875|19.625|19.25|19.0625|19.03125|19.3125|19.53125|19.78125|20.125|20.25|20.28125|20.1875|20.09375|19.9375|19.84375|19.9375|19.9375|20.09375|20.3125|20.5625|20.625|20.78125|20.78125|20.71875|20.8125|20.84375|20.9375|21.375|21.90625|22.0|22.25|22.5625",
        offset: "0.0|0.0556640625|0.111328125|0.1669921875|0.2216796875|0.2783203125|0.3330078125|0.388671875|0.4443359375|0.5|0.5556640625|0.611328125|0.6669921875|0.7216796875|0.7783203125|0.8330078125|0.888671875|0.9443359375|1.0|1.0556640625|1.111328125|1.1669921875|1.2216796875|1.2783203125|1.3330078125|1.388671875|1.4443359375|1.5|1.5556640625|1.611328125|1.6669921875|1.7216796875|1.7783203125|1.8330078125|1.888671875|1.9443359375|2.0|2.0556640625|2.111328125|2.1669921875|2.2216796875|2.2783203125|2.3330078125|2.388671875|2.4443359375|2.5|2.5556640625|2.611328125|2.6669921875|2.7216796875|2.7783203125|2.8330078125|2.888671875|2.9443359375|3.0|3.0556640625|3.111328125|3.1669921875|3.2216796875|3.2783203125|3.3330078125|3.388671875|3.4443359375|3.5|3.5556640625|3.611328125|3.6669921875|3.7216796875|3.7783203125|3.8330078125|3.888671875|3.9443359375|4.0|3.9443359375|3.888671875|3.8330078125|3.7783203125|3.7216796875|3.6669921875|3.611328125|3.5556640625|3.5|3.4443359375|3.388671875|3.3330078125|3.2783203125|3.2216796875|3.1669921875|3.111328125|3.0556640625|3.0|2.9443359375|2.888671875|2.8330078125|2.7783203125|2.7216796875|2.6669921875|2.611328125|2.5556640625|2.5|2.4443359375|2.388671875|2.3330078125|2.2783203125|2.2216796875|2.1669921875|2.111328125|2.0556640625|2.0|1.9443359375|1.888671875|1.8330078125|1.7783203125|1.7216796875|1.6669921875|1.611328125|1.5556640625|1.5|1.4443359375|1.388671875|1.3330078125|1.2783203125|1.2216796875|1.1669921875|1.111328125|1.0556640625|1.0|0.9443359375|0.888671875|0.8330078125|0.7783203125|0.7216796875|0.6669921875|0.611328125|0.5556640625|0.5|0.4443359375|0.388671875|0.3330078125|0.2783203125|0.2216796875|0.1669921875|0.111328125|0.0556640625",
    },
    {
        dxid: 13794,
        name: "#3",
        datetime: "2020-08-14 00:00:05",
        payload: "20.09375|20.09375|24.03125|26.375|29.0|29.3125|27.9375|26.0|26.0|26.6875|27.96875|29.0625|29.21875|28.8125|28.0|26.75|26.5625|26.59375|26.78125|27.65625|28.1875|28.53125|28.5|28.46875|27.96875|27.5|27.09375|27.0|27.03125|27.25|27.5|27.8125|27.84375|27.8125|27.90625|27.75|27.53125|27.1875|27.03125|27.03125|27.09375|27.34375|27.25|27.46875|27.53125|27.5625|27.46875|27.46875|27.1875|27.0625|27.0|26.96875|26.78125|26.875|27.0625|27.09375|27.09375|27.09375|26.875|26.78125|26.78125|26.6875|26.625|26.71875|26.5625|26.34375|26.21875|25.9375|26.09375|26.03125|25.90625|25.6875|25.53125|25.21875|22.9375|19.65625|17.75|16.40625|16.75|17.8125|18.6875|18.625|18.375|17.34375|16.5625|16.34375|16.59375|16.875|17.5|18.0|18.15625|18.0625|17.8125|16.96875|16.6875|16.4375|16.25|16.375|16.71875|17.09375|17.46875|17.75|17.8125|17.8125|17.59375|17.375|17.0|16.6875|16.5|16.53125|16.75|16.875|17.0|17.40625|17.71875|17.8125|17.8125|17.78125|17.59375|17.4375|17.25|17.1875|17.25|17.3125|17.65625|17.9375|18.0625|18.21875|18.5|18.40625|18.15625|17.96875|18.0625|17.90625|18.09375|18.25|18.53125|19.0|19.1875|19.375|19.3125|19.25|19.25|19.78125",
        offset: "0.0|0.0556640625|0.111328125|0.1669921875|0.2216796875|0.2783203125|0.3330078125|0.388671875|0.4443359375|0.5|0.5556640625|0.611328125|0.6669921875|0.7216796875|0.7783203125|0.8330078125|0.888671875|0.9443359375|1.0|1.0556640625|1.111328125|1.1669921875|1.2216796875|1.2783203125|1.3330078125|1.388671875|1.4443359375|1.5|1.5556640625|1.611328125|1.6669921875|1.7216796875|1.7783203125|1.8330078125|1.888671875|1.9443359375|2.0|2.0556640625|2.111328125|2.1669921875|2.2216796875|2.2783203125|2.3330078125|2.388671875|2.4443359375|2.5|2.5556640625|2.611328125|2.6669921875|2.7216796875|2.7783203125|2.8330078125|2.888671875|2.9443359375|3.0|3.0556640625|3.111328125|3.1669921875|3.2216796875|3.2783203125|3.3330078125|3.388671875|3.4443359375|3.5|3.5556640625|3.611328125|3.6669921875|3.7216796875|3.7783203125|3.8330078125|3.888671875|3.9443359375|4.0|3.9443359375|3.888671875|3.8330078125|3.7783203125|3.7216796875|3.6669921875|3.611328125|3.5556640625|3.5|3.4443359375|3.388671875|3.3330078125|3.2783203125|3.2216796875|3.1669921875|3.111328125|3.0556640625|3.0|2.9443359375|2.888671875|2.8330078125|2.7783203125|2.7216796875|2.6669921875|2.611328125|2.5556640625|2.5|2.4443359375|2.388671875|2.3330078125|2.2783203125|2.2216796875|2.1669921875|2.111328125|2.0556640625|2.0|1.9443359375|1.888671875|1.8330078125|1.7783203125|1.7216796875|1.6669921875|1.611328125|1.5556640625|1.5|1.4443359375|1.388671875|1.3330078125|1.2783203125|1.2216796875|1.1669921875|1.111328125|1.0556640625|1.0|0.9443359375|0.888671875|0.8330078125|0.7783203125|0.7216796875|0.6669921875|0.611328125|0.5556640625|0.5|0.4443359375|0.388671875|0.3330078125|0.2783203125|0.2216796875|0.1669921875|0.111328125|0.0556640625",
    },
    {
        dxid: 106668,
        name: "#4",
        datetime: "2020-08-14 00:00:09",
        payload: "44.38671875|49.30859375|50.796875|52.4296875|54.69921875|56.9375|58.71875|60.5|61.6484375|63.1171875|65.5390625|67.41796875|69.08984375|71.359375|72.9765625|74.296875|76.27734375|77.38671875|79.27734375|80.609375|82.3984375|83.2578125|83.9375|85.09765625|86.30859375|86.75|87.1171875|87.08984375|86.59765625|85.38671875|84.359375|83.46875|82.63671875|81.578125|80.84765625|80.48828125|80.046875|79.90625|80.26953125|80.6796875|81.40625|82.34765625|83.0390625|83.7890625|84.56640625|84.9765625|85.046875|85.20703125|85.1171875|84.40625|83.81640625|82.9765625|82.1875|81.52734375|80.859375|80.45703125|80.44921875|80.3984375|80.56640625|81.02734375|81.75|82.45703125|83.27734375|83.94921875|84.75|84.96875|84.88671875|84.59765625|84.06640625|83.46875|82.6875|81.96875|81.27734375|80.578125|80.328125|80.45703125|81.0078125|81.609375|82.5390625|83.6484375|84.63671875|85.15625|85.44921875|85.1484375|84.30859375|83.1875|82.06640625|80.63671875|79.98828125|80.1171875|81.02734375|82.96875|85.58984375|88.51953125|88.8984375|87.1875|83.1171875|77.83984375|78.06640625|81.63671875|83.96875|79.7890625|75.38671875|73.359375|71.73828125|68.3671875|65.609375|64.77734375|65.2890625|66.88671875|69.1171875|71.8671875|73.45703125|75.23828125|75.796875|75.3671875|74.23828125|72.91796875|71.1796875|68.31640625|66.546875|64.91796875|63.59765625|63.55859375|64.27734375|65.609375|67.4296875|69.4375|71.21875|72.6875|73.56640625|74.5|75.25|75.359375|75.05859375|70.078125|65.4375|64.31640625|63.27734375|62.16796875|61.87890625|62.40625|63.65625|65.27734375|66.1875|68.01953125|69.21875|69.73828125|69.96875|70.3671875|70.51953125|69.96875|68.296875|65.9765625|63.69921875|61.48828125|59.37890625|57.70703125|56.5390625|55.5390625|55.09765625|55.21875|56.15625|57.44921875|58.609375|59.37890625|59.40625|58.6171875|57.33984375|55.8984375|53.91796875|49.26953125|46.16796875|44.37890625|43.6484375|43.37890625|43.63671875|44.828125|45.27734375|44.9375|43.87890625|42.46875|40.88671875|40.87890625|41.63671875|41.95703125|41.796875|41.6171875|41.84765625|42.88671875|44.58984375|45.27734375|44.59765625|44.0078125|43.81640625|43.31640625|41.4375|41.34765625|43.20703125|44.52734375",
        offset: "0.0|0.0390625|0.08984375|0.1396484375|0.1796875|0.2294921875|0.279296875|0.3291015625|0.369140625|0.419921875|0.4697265625|0.509765625|0.5595703125|0.609375|0.6591796875|0.69921875|0.75|0.7998046875|0.83984375|0.8896484375|0.939453125|0.9892578125|1.029296875|1.0791015625|1.1298828125|1.169921875|1.2197265625|1.26953125|1.3193359375|1.359375|1.4091796875|1.4599609375|1.509765625|1.5498046875|1.599609375|1.6494140625|1.689453125|1.7392578125|1.7890625|1.83984375|1.8798828125|1.9296875|1.9794921875|2.01953125|2.0693359375|2.119140625|2.169921875|2.2099609375|2.259765625|2.3095703125|2.349609375|2.3994140625|2.44921875|2.5|2.5390625|2.58984375|2.6396484375|2.689453125|2.7294921875|2.779296875|2.8291015625|2.869140625|2.919921875|2.9697265625|3.01953125|3.0595703125|3.109375|3.1591796875|3.19921875|3.25|3.2998046875|3.349609375|3.3896484375|3.439453125|3.4892578125|3.529296875|3.5791015625|3.6298828125|3.6796875|3.7197265625|3.76953125|3.8193359375|3.869140625|3.9091796875|3.9599609375|4.009765625|4.0498046875|4.099609375|4.1494140625|4.19921875|4.2392578125|4.2890625|4.33984375|4.3798828125|4.4296875|4.4794921875|4.529296875|4.5693359375|4.619140625|4.669921875|4.7099609375|4.669921875|4.619140625|4.5693359375|4.529296875|4.4794921875|4.4296875|4.3798828125|4.33984375|4.2890625|4.2392578125|4.19921875|4.1494140625|4.099609375|4.0498046875|4.009765625|3.9599609375|3.9091796875|3.869140625|3.8193359375|3.76953125|3.7197265625|3.6796875|3.6298828125|3.5791015625|3.529296875|3.4892578125|3.439453125|3.3896484375|3.349609375|3.2998046875|3.25|3.19921875|3.1591796875|3.109375|3.0595703125|3.01953125|2.9697265625|2.919921875|2.869140625|2.8291015625|2.779296875|2.7294921875|2.689453125|2.6396484375|2.58984375|2.5390625|2.5|2.44921875|2.3994140625|2.349609375|2.3095703125|2.259765625|2.2099609375|2.169921875|2.119140625|2.0693359375|2.01953125|1.9794921875|1.9296875|1.8798828125|1.83984375|1.7890625|1.7392578125|1.689453125|1.6494140625|1.599609375|1.5498046875|1.509765625|1.4599609375|1.4091796875|1.359375|1.3193359375|1.26953125|1.2197265625|1.169921875|1.1298828125|1.0791015625|1.029296875|0.9892578125|0.939453125|0.8896484375|0.83984375|0.7998046875|0.75|0.69921875|0.6591796875|0.609375|0.5595703125|0.509765625|0.4697265625|0.419921875|0.369140625|0.3291015625|0.279296875|0.2294921875|0.1796875|0.1396484375|0.08984375|0.0390625",
    },
    {
        dxid: 106647,
        name: "#5",
        datetime: "2020-08-14 00:00:09",
        payload: "54.51953125|58.02734375|59.09765625|59.87890625|60.59765625|62.19921875|64.5|66.62890625|67.84765625|68.90625|70.1171875|71.45703125|72.6796875|73.70703125|74.1796875|74.02734375|73.25|72.55859375|71.70703125|70.0078125|68.90625|68.046875|67.34765625|66.41796875|65.80859375|65.12890625|64.5390625|63.90625|63.30859375|63.109375|63.2578125|63.59765625|64.02734375|64.609375|65.38671875|66.859375|67.65625|68.21875|68.56640625|68.77734375|68.98828125|69.2578125|69.46875|69.7265625|69.9296875|69.90625|69.65625|69.359375|69.0078125|68.58984375|68.0078125|67.046875|65.95703125|65.0078125|64.44921875|64.25|63.9765625|63.73828125|63.6796875|63.70703125|63.80859375|63.90625|64.02734375|64.26953125|64.46875|64.96875|65.546875|66.30859375|67.5390625|67.94921875|68.109375|68.25|68.20703125|68.02734375|67.828125|67.48828125|67.328125|67.01953125|66.7890625|66.19921875|65.1484375|64.0|63.6171875|63.2890625|63.30859375|63.59765625|63.94921875|64.2265625|64.59765625|64.96875|65.7890625|67.2265625|67.5390625|67.44921875|67.0390625|66.2890625|65.52734375|64.6171875|62.88671875|63.83984375|64.75|62.66796875|61.5|60.296875|59.828125|59.1171875|59.37890625|59.9765625|60.23828125|60.2890625|60.31640625|60.31640625|60.19921875|59.828125|59.7265625|59.56640625|59.078125|58.44921875|56.9375|56.15625|55.48828125|54.7578125|54.38671875|54.1171875|53.8984375|53.6484375|53.52734375|53.4375|53.21875|52.76953125|52.2890625|51.95703125|51.546875|51.4296875|51.5078125|51.76953125|52.1171875|52.41796875|52.70703125|52.9296875|53.19921875|53.4765625|53.56640625|53.6171875|53.66796875|53.83984375|54.01953125|54.21875|54.546875|54.34765625|54.078125|53.96875|53.796875|53.6171875|53.52734375|53.41796875|53.40625|53.44921875|53.44921875|53.48828125|53.5078125|53.5078125|53.48828125|53.5|53.56640625|53.6796875|53.81640625|54.01953125|54.16796875|54.4375|54.66796875|54.8671875|55.05859375|55.13671875|55.2265625|55.2265625|55.19921875|55.1484375|55.16796875|55.16796875|55.109375|55.0|54.8984375|54.80859375|54.65625|54.46875|54.3671875|54.38671875|54.38671875|54.55859375|54.81640625|54.98828125|55.05859375|55.27734375|55.62890625|56.078125|56.46875|56.70703125|56.23828125|55.87890625",
        offset: "0.0|0.0498046875|0.099609375|0.1494140625|0.2099609375|0.259765625|0.3095703125|0.369140625|0.419921875|0.4697265625|0.529296875|0.5791015625|0.6298828125|0.689453125|0.7392578125|0.7890625|0.849609375|0.8994140625|0.94921875|1.0|1.0595703125|1.109375|1.1591796875|1.2197265625|1.26953125|1.3193359375|1.3798828125|1.4296875|1.4794921875|1.5390625|1.58984375|1.6396484375|1.69921875|1.75|1.7998046875|1.859375|1.9091796875|1.9599609375|2.009765625|2.0693359375|2.119140625|2.169921875|2.2294921875|2.279296875|2.3291015625|2.3896484375|2.439453125|2.4892578125|2.5498046875|2.599609375|2.6494140625|2.7099609375|2.759765625|2.8095703125|2.869140625|2.919921875|2.9697265625|3.01953125|3.0791015625|3.1298828125|3.1796875|3.2392578125|3.2890625|3.33984375|3.3994140625|3.44921875|3.5|3.5595703125|3.609375|3.6591796875|3.7197265625|3.76953125|3.8193359375|3.8798828125|3.9296875|3.9794921875|4.029296875|4.08984375|4.1396484375|4.189453125|4.25|4.2998046875|4.349609375|4.4091796875|4.4599609375|4.509765625|4.5693359375|4.619140625|4.669921875|4.7294921875|4.779296875|4.8291015625|4.8896484375|4.939453125|4.9892578125|5.0390625|5.099609375|5.1494140625|5.19921875|5.259765625|5.3095703125|5.259765625|5.19921875|5.1494140625|5.099609375|5.0390625|4.9892578125|4.939453125|4.8896484375|4.8291015625|4.779296875|4.7294921875|4.669921875|4.619140625|4.5693359375|4.509765625|4.4599609375|4.4091796875|4.349609375|4.2998046875|4.25|4.189453125|4.1396484375|4.08984375|4.029296875|3.9794921875|3.9296875|3.8798828125|3.8193359375|3.76953125|3.7197265625|3.6591796875|3.609375|3.5595703125|3.5|3.44921875|3.3994140625|3.33984375|3.2890625|3.2392578125|3.1796875|3.1298828125|3.0791015625|3.01953125|2.9697265625|2.919921875|2.869140625|2.8095703125|2.759765625|2.7099609375|2.6494140625|2.599609375|2.5498046875|2.4892578125|2.439453125|2.3896484375|2.3291015625|2.279296875|2.2294921875|2.169921875|2.119140625|2.0693359375|2.009765625|1.9599609375|1.9091796875|1.859375|1.7998046875|1.75|1.69921875|1.6396484375|1.58984375|1.5390625|1.4794921875|1.4296875|1.3798828125|1.3193359375|1.26953125|1.2197265625|1.1591796875|1.109375|1.0595703125|1.0|0.94921875|0.8994140625|0.849609375|0.7890625|0.7392578125|0.689453125|0.6298828125|0.5791015625|0.529296875|0.4697265625|0.419921875|0.369140625|0.3095703125|0.259765625|0.2099609375|0.1494140625|0.099609375|0.0498046875",
    },
];

// you can switch data just change index
var index = 4
if (index >= ds.length) {
    index = ds.length - 1
}
if (index <= 0) {
    index = 0
}


function transformer(payload, offset, delimiter = "|") {
    var payloadDs = payload.split(delimiter);
    var offsetDs = offset.split(delimiter);

    var len = Math.max(payloadDs.length, offsetDs.length);
    var res = [];

    function tryParseToNumber(source) {
        var target = parseFloat(source);
        if (isNaN(target)) {
            target = 0;
        }
        return target;
    }

    if (payloadDs.length === offsetDs.length) {
        for (var i = 0; i < len; i++) {
            res.push({
                payload: tryParseToNumber(payloadDs[i]),
                offset: tryParseToNumber(offsetDs[i]),
            });
        }
        return res;
    } else {
        throw new Error("payload's count is not equal to offset's count");
    }
}

var seriesData = ds.map((d) => {
    var data = transformer(d.payload, d.offset);

    function getStroke(data) {
        var offsetDs = data.map(({
            offset
        }) => offset);

        var maxOffset = Math.max(...offsetDs);
        var maxOffsetIndex = offsetDs.findIndex((d) => d === maxOffset);

        var minOffset = Math.min(...offsetDs);
        var minOffsetIndex = offsetDs.findIndex((d) => d === minOffset);

        var upStroke = data.slice(0, maxOffsetIndex + 1);
        var downStroke = data
            .slice(maxOffsetIndex, data.length)
            .concat(data[minOffsetIndex]);

        return {
            upStroke,
            downStroke
        };
    }

    var stroke = getStroke(data);
    return stroke;
});

var currentSeriesData = seriesData[index];

option = {
    title: {
        text: ds[index].name + '[' + ds[index].dxid + '] 功图'
    },

    grid: {
        top: 80,
        right: 80,
        bottom: 100
    },
    xAxis: {
        name: '位移(M)',
        max: function(value) {
            return Math.ceil(value.max);
        },
        min: function(value) {
            return Math.floor(value.min);
        },
    },
    yAxis: {
        name: '载荷(kN)',
        max: function(value) {
            return Math.ceil(value.max);
        },
        min: function(value) {
            return Math.floor(value.min);
        },
    },
    legend: {
        data: ['上冲程', '下冲程'],
        left: 'center',
        bottom: 40,
        align: 'right'
    },
    series: [{
            name: '上冲程',
            data: currentSeriesData.upStroke.map(({
                offset,
                payload
            }) => [
                offset,
                payload,
            ]),
            type: "line",
        },
        {
            name: '下冲程',
            data: currentSeriesData.downStroke.map(({
                offset,
                payload
            }) => [
                offset,
                payload,
            ]),
            type: "line",
        },
    ],
};