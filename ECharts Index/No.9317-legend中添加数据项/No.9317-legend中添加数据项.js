function randomData() {
    now = new Date();
    value = Math.random() * 21 - 10;
    return {
        name: now.toString(),
        value: [
            [now.getHours(),now.getMinutes()].join(':'),
            Math.round(value)
        ]
    }
}

var data= [
            {
                "name": "2020-02-25 14:56:00.0",
                "value": 2172
            },
            {
                "name": "2020-02-25 14:55:00.0",
                "value": 2320
            },
            {
                "name": "2020-02-25 14:54:00.0",
                "value": 2938
            },
            {
                "name": "2020-02-25 14:53:00.0",
                "value": 733
            },
            {
                "name": "2020-02-25 14:52:00.0",
                "value": 2138
            },
            {
                "name": "2020-02-25 14:51:00.0",
                "value": 2180
            },
            {
                "name": "2020-02-25 14:50:00.0",
                "value": 2156
            },
            {
                "name": "2020-02-25 14:49:00.0",
                "value": 2528
            },
            {
                "name": "2020-02-25 14:47:00.0",
                "value": 640
            },
            {
                "name": "2020-02-25 14:46:00.0",
                "value": 886
            },
            {
                "name": "2020-02-25 14:45:00.0",
                "value": 1939
            },
            {
                "name": "2020-02-25 14:44:00.0",
                "value": 2348
            },
            {
                "name": "2020-02-25 14:43:00.0",
                "value": 2115
            },
            {
                "name": "2020-02-25 14:42:00.0",
                "value": 862
            },
            {
                "name": "2020-02-25 14:41:00.0",
                "value": 537
            },
            {
                "name": "2020-02-25 14:40:00.0",
                "value": 3553
            },
            {
                "name": "2020-02-25 14:39:00.0",
                "value": 90
            },
            {
                "name": "2020-02-25 14:38:00.0",
                "value": 687
            },
            {
                "name": "2020-02-25 14:37:00.0",
                "value": 2691
            },
            {
                "name": "2020-02-25 14:36:00.0",
                "value": 2673
            },
            {
                "name": "2020-02-25 14:35:00.0",
                "value": 3220
            },
            {
                "name": "2020-02-25 14:34:00.0",
                "value": 1408
            },
            {
                "name": "2020-02-25 14:33:00.0",
                "value": 2431
            },
            {
                "name": "2020-02-25 14:32:00.0",
                "value": 2899
            },
            {
                "name": "2020-02-25 14:31:00.0",
                "value": 3021
            },
            {
                "name": "2020-02-25 14:30:00.0",
                "value": 1285
            },
            {
                "name": "2020-02-25 14:29:00.0",
                "value": 1490
            },
            {
                "name": "2020-02-25 14:28:00.0",
                "value": 1560
            },
            {
                "name": "2020-02-25 14:27:00.0",
                "value": 2244
            },
            {
                "name": "2020-02-25 14:26:00.0",
                "value": 325
            },
            {
                "name": "2020-02-25 14:25:00.0",
                "value": 715
            },
            {
                "name": "2020-02-25 14:24:00.0",
                "value": 733
            },
            {
                "name": "2020-02-25 14:23:00.0",
                "value": 1047
            },
            {
                "name": "2020-02-25 14:22:00.0",
                "value": 1420
            },
            {
                "name": "2020-02-25 14:21:00.0",
                "value": 850
            },
            {
                "name": "2020-02-25 14:20:00.0",
                "value": 4100
            },
            {
                "name": "2020-02-25 14:19:00.0",
                "value": 1775
            },
            {
                "name": "2020-02-25 14:18:00.0",
                "value": 3064
            },
            {
                "name": "2020-02-25 14:17:00.0",
                "value": 3048
            },
            {
                "name": "2020-02-25 14:16:00.0",
                "value": 3434
            },
            {
                "name": "2020-02-25 14:15:00.0",
                "value": 1974
            },
            {
                "name": "2020-02-25 14:14:00.0",
                "value": 2113
            },
            {
                "name": "2020-02-25 14:13:00.0",
                "value": 2764
            },
            {
                "name": "2020-02-25 14:12:00.0",
                "value": 2688
            },
            {
                "name": "2020-02-25 14:11:00.0",
                "value": 702
            },
            {
                "name": "2020-02-25 14:10:00.0",
                "value": 2101
            },
            {
                "name": "2020-02-25 14:09:00.0",
                "value": 2133
            },
            {
                "name": "2020-02-25 14:08:00.0",
                "value": 2507
            },
            {
                "name": "2020-02-25 14:07:00.0",
                "value": 2588
            },
            {
                "name": "2020-02-25 14:06:00.0",
                "value": 163
            },
            {
                "name": "2020-02-25 14:05:00.0",
                "value": 1704
            },
            {
                "name": "2020-02-25 14:04:00.0",
                "value": 2264
            },
            {
                "name": "2020-02-25 14:03:00.0",
                "value": 533
            },
            {
                "name": "2020-02-25 14:02:00.0",
                "value": 1335
            },
            {
                "name": "2020-02-25 14:01:00.0",
                "value": 834
            },
            {
                "name": "2020-02-25 14:00:00.0",
                "value": 3868
            },
            {
                "name": "2020-02-25 13:59:00.0",
                "value": 4033
            },
            {
                "name": "2020-02-25 13:58:00.0",
                "value": 1067
            },
            {
                "name": "2020-02-25 13:57:00.0",
                "value": 1327
            },
            {
                "name": "2020-02-25 13:56:00.0",
                "value": 2744
            }
        ]

console.log('data',data)
option = {
    title: {
        text: '动态数据 + 时间坐标轴'
    },
    legend: {
        data:['模拟数据']
    },
    tooltip: {
        trigger: 'axis',
        formatter: function (params) {
            
            params = params[0];
            var date = new Date(params.name);
            return date.getHours() + ':' + (date.getMinutes() + 1) + ' : ' + params.value;
        },
        axisPointer: {
            animation: false
        }
    },
    xAxis: {
        type: 'time',
        splitLine: {
            show: false
        }
    },
    yAxis: {
        type: 'value',
        boundaryGap: [0, '100%'],
        splitLine: {
            show: false
        }
    },
    series: [{
       // name: '模拟数据',javascript:;
        type: 'line',
        showSymbol: false,
        hoverAnimation: false,
        data: data
    }]
};

setInterval(function () {

    for (var i = 0; i < 1; i++) {
        data.shift();
        data.push(randomData());
        
    }
    let a = Math.random()
    myChart.setOption({
        legend: {
            data:['模拟数据'+a]
        },
        series: [{
            name:['模拟数据'+a],
            data: data
        }]
    });
}, 10000);